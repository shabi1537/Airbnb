<%- include('../partials/head') %>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">
  <%- include('../partials/nav') %>

  <main class="flex-grow container mx-auto p-6 mt-12">
    <div class="max-w-xl mx-auto bg-white p-10 rounded-xl shadow-md">
      <h1 class="text-4xl font-extrabold text-red-500 text-center mb-8">
        <%= editing ? 'Edit Your Home' : 'Register Your Home' %>
      </h1>

      <!-- Form for adding or editing a home -->
      <form action="/host/<%= editing ? 'edit-home' : 'add-home' %>" method="POST" class="space-y-5">
        
        <% if (editing && home && home._id) { %>
          <input type="hidden" name="_id" value="<%= home._id %>"/>
        <% } %>

        <!-- House Name -->
        <div>
          <label for="houseName" class="block text-left font-medium text-gray-700 mb-1">House Name</label>
          <input
            type="text"
            name="houseName"
            id="houseName"
            value="<%= editing ? home.houseName : '' %>"
            placeholder="e.g. Cozy Mountain Cabin"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"
            required
          />
        </div>

        <!-- Price -->
        <div>
          <label for="price" class="block text-left font-medium text-gray-700 mb-1">Price Per Night</label>
          <input
            type="text"
            name="price"
            id="price"
            value="<%= editing ? home.price : '' %>"
            placeholder="e.g. 2000"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"
            required
          />
        </div>

        <!-- Location -->
        <div>
          <label for="location" class="block text-left font-medium text-gray-700 mb-1">Location</label>
          <input
            type="text"
            name="location"
            id="location"
            value="<%= editing ? home.location : '' %>"
            placeholder="e.g. Manali, HP"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"
            required
          />
        </div>

        <!-- Rating -->
        <div>
          <label for="rating" class="block text-left font-medium text-gray-700 mb-1">Rating</label>
          <input
            type="text"
            name="rating"
            id="rating"
            value="<%= editing ? home.rating : '' %>"
            placeholder="e.g. 4.5"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"
            required
          />
        </div>

        <!-- Photo URL -->
        <div>
          <label for="photoUrl" class="block text-left font-medium text-gray-700 mb-1">Photo URL</label>
          <input
            type="text"
            name="photoUrl"
            id="photoUrl"
            value="<%= editing ? home.photoUrl : '' %>"
            placeholder="Paste a valid image URL"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"
            required
          />
        </div>

        <!-- Submit Button -->
        <div>
          <button
            type="submit"
            class="w-full bg-red-500 text-white font-semibold py-2 rounded-md hover:bg-red-600 transition duration-300"
          >
            <%= editing ? 'Edit Home' : 'Add Home' %>
          </button>
        </div>
      </form>
    </div>
  </main>
</body>
</html>
